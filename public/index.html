<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Science Live - Transform Research into Content</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="logo">
                <img src="./logo.png" alt="Science Live Logo">
            </div>
            <h1 class="title">Science Live</h1>
            <p class="subtitle">Transform your research into engaging content</p>
        </div>

        <!-- Main Interface -->
        <div class="main-card">
            <!-- Progress Indicator -->
            <div class="progress-container">
                <div class="progress-steps">
                    <div class="progress-line">
                        <div class="progress-line-fill" id="progress-fill"></div>
                    </div>
                    <div class="step active" data-step="1">1</div>
                    <div class="step" data-step="2">2</div>
                    <div class="step" data-step="3">3</div>
                </div>
                <div class="step-labels">
                    <div class="step-label active">Add Research</div>
                    <div class="step-label">Choose Format</div>
                    <div class="step-label">Generate</div>
                </div>
            </div>

            <!-- Step 1: Research Input -->
            <div class="section active" id="step-1">
                <h2 class="section-title">Add Your Research</h2>
                <p class="section-description">Paste the URLs of your nanopublications below</p>
                
                <div class="research-input">
                    <label class="input-label">Nanopublication URLs</label>
                    <div id="nanopub-inputs">
                        <!-- Dynamic inputs will be added here -->
                    </div>
                    <button type="button" class="add-source-btn" onclick="addNanopubInput()">
                        + Add another source
                    </button>
                </div>

                <div class="examples">
                    <div class="examples-label">Try these examples:</div>
                    <div class="example-links">
                        <a href="#" class="example-link" onclick="loadExample('hpc')">HPC Research</a>
                        <a href="#" class="example-link" onclick="loadExample('weather')">Weather Data</a>
                        <a href="#" class="example-link" onclick="loadExample('citation')">Citation Study</a>
                    </div>
                </div>
            </div>

            <!-- Step 2: Format Selection -->
            <div class="section" id="step-2">
                <h2 class="section-title">Choose Content Format</h2>
                <p class="section-description">What type of content would you like to create?</p>
                
                <div class="format-grid">
                    <label class="format-option">
                        <input type="radio" name="format" value="social" checked>
                        <div class="format-card">
                            <div class="format-header">
                                <span class="format-icon">üì±</span>
                                <span class="format-title">Social Media Post</span>
                            </div>
                            <p class="format-description">Perfect for LinkedIn, Twitter, and other platforms. Engaging and shareable.</p>
                        </div>
                    </label>
                    
                    <label class="format-option">
                        <input type="radio" name="format" value="summary">
                        <div class="format-card">
                            <div class="format-header">
                                <span class="format-icon">üìÑ</span>
                                <span class="format-title">Executive Summary</span>
                            </div>
                            <p class="format-description">Professional summary for reports, presentations, and business use.</p>
                        </div>
                    </label>
                    
                    <label class="format-option">
                        <input type="radio" name="format" value="article">
                        <div class="format-card">
                            <div class="format-header">
                                <span class="format-icon">üì∞</span>
                                <span class="format-title">Blog Article</span>
                            </div>
                            <p class="format-description">Detailed article perfect for blogs, newsletters, and publications.</p>
                        </div>
                    </label>
                </div>
            </div>

            <!-- Step 3: Generate -->
            <div class="section" id="step-3">
                <h2 class="section-title">Generate Content</h2>
                <p class="section-description">Ready to transform your research into engaging content?</p>
                
                <div class="status-container" id="status-container"></div>
                
                <div class="action-buttons">
                    <button class="btn btn-secondary" onclick="goBack()">‚Üê Back</button>
                    <button class="btn btn-primary" id="generate-btn" onclick="generateContent()">
                        Generate Content
                    </button>
                </div>
            </div>

            <!-- Navigation -->
            <div class="action-buttons" id="nav-buttons" style="display: none;">
                <button class="btn btn-secondary" onclick="previousStep()">‚Üê Previous</button>
                <button class="btn btn-primary" onclick="nextStep()">Continue ‚Üí</button>
            </div>
        </div>

        <!-- Results Section -->
        <div class="results-section" id="results-section">
            <div class="results-header">
                <div class="success-icon">‚úì</div>
                <h2>Content Generated!</h2>
                <p>Your research has been transformed into engaging content</p>
            </div>
            
            <div class="content-preview" id="generated-content">
                <!-- Generated content will appear here -->
            </div>
            
            <div class="action-buttons">
                <button class="btn btn-secondary" onclick="generateNew()">üîÑ Start Over</button>
                <button class="btn btn-primary" onclick="copyContent()">üìã Copy Content</button>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        let nanopubCounter = 0;
        
        // Example nanopub URLs
        const examples = {
            hpc: 'https://w3id.org/np/RAeCQAe0XKmQHnwJhMe6Sj0hinsROZdj068Hoy-MmUGY4',
            weather: 'https://w3id.org/np/RAaCbrybsINHksiFpzcamlUkSU9-5_u3WtcP4hC3jbkQ4',
            citation: 'https://w3id.org/np/RA5aU0Cg0MKc5moV6xOk_ThBwxah5xipXgz6sy0F29N2Q'
        };

        // Sample content for demo
        const sampleContent = {
            social: `üî¨ Exciting research reveals new insights into high-performance computing!

Recent nanopublication data shows significant improvements in processing speeds and efficiency. This could revolutionize how we approach large-scale scientific computing.

Key findings:
‚úÖ 40% improvement in data throughput
‚úÖ Better resource utilization  
‚úÖ Reduced processing times

#Research #HPC #Science #Innovation`,

            summary: `Executive Summary: High-Performance Computing Research

Recent nanopublication research demonstrates significant advances in computing efficiency and performance optimization. Key findings include substantial improvements in data throughput, resource utilization, and processing speeds.

These developments have important implications for scientific computing applications and could drive innovation across multiple research domains. Organizations should consider these findings when planning computational infrastructure upgrades.`,

            article: `Breakthrough in High-Performance Computing: New Research Reveals Significant Performance Gains

Introduction

Recent research published in nanopublication format has revealed significant advances in high-performance computing (HPC) capabilities. The findings suggest substantial improvements in computational efficiency that could transform scientific research methodologies.

Key Findings

The research demonstrates remarkable improvements in several critical areas:

Data Throughput Enhancement
Studies show up to 40% improvement in data processing speeds, enabling faster analysis of large datasets commonly used in scientific research.

Resource Optimization
Better utilization of computing resources leads to more efficient operations and reduced computational costs for research institutions.

Processing Speed Improvements
Significant reductions in processing times enable researchers to iterate faster and explore more hypotheses within existing time constraints.

Implications

These advances in HPC technology have far-reaching implications for the scientific community. Faster processing capabilities enable more complex simulations, larger dataset analysis, and accelerated research timelines.

Conclusion

The demonstrated improvements in HPC performance represent a significant step forward for computational science. Research institutions should evaluate these advances when planning future computational infrastructure investments.`
        };

        function updateProgress() {
            const progressFill = document.getElementById('progress-fill');
            const steps = document.querySelectorAll('.step');
            const labels = document.querySelectorAll('.step-label');
            
            // Update progress bar
            const progressPercent = ((currentStep - 1) / 2) * 100;
            progressFill.style.width = progressPercent + '%';
            
            // Update step indicators
            steps.forEach((step, index) => {
                const stepNumber = index + 1;
                step.classList.remove('active', 'completed');
                
                if (stepNumber < currentStep) {
                    step.classList.add('completed');
                } else if (stepNumber === currentStep) {
                    step.classList.add('active');
                }
            });
            
            // Update labels
            labels.forEach((label, index) => {
                label.classList.remove('active');
                if (index + 1 === currentStep) {
                    label.classList.add('active');
                }
            });
        }

        function showStep(step) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show current section
            document.getElementById(`step-${step}`).classList.add('active');
            
            // Update navigation
            const navButtons = document.getElementById('nav-buttons');
            const stepNavigation = document.querySelector('#step-3 .action-buttons');
            
            if (step === 3) {
                navButtons.style.display = 'none';
                if (stepNavigation) stepNavigation.style.display = 'flex';
            } else {
                navButtons.style.display = 'flex';
                if (stepNavigation) stepNavigation.style.display = 'none';
            }
            
            updateProgress();
        }

        function nextStep() {
            if (currentStep < 3) {
                if (validateCurrentStep()) {
                    currentStep++;
                    showStep(currentStep);
                }
            }
        }

        function previousStep() {
            if (currentStep > 1) {
                currentStep--;
                showStep(currentStep);
            }
        }

        function goBack() {
            previousStep();
        }

        function validateCurrentStep() {
            if (currentStep === 1) {
                const urls = getAllNanopubUrls();
                if (urls.length === 0) {
                    showStatus('Please add at least one nanopublication URL', 'error');
                    return false;
                }
            }
            return true;
        }

        function createNanopubInput(index = nanopubCounter, value = '') {
            return `
                <input 
                    type="url" 
                    class="nanopub-input" 
                    placeholder="https://w3id.org/np/..."
                    value="${value}"
                    data-index="${index}"
                    oninput="validateNanopubInput(this)"
                >
            `;
        }

        function addNanopubInput(value = '') {
            const container = document.getElementById('nanopub-inputs');
            const newInput = createNanopubInput(nanopubCounter, value);
            container.insertAdjacentHTML('beforeend', newInput);
            
            if (!value) {
                const input = container.querySelector(`input[data-index="${nanopubCounter}"]`);
                input.focus();
            }
            
            nanopubCounter++;
        }

        function validateNanopubInput(input) {
            const value = input.value.trim();
            
            if (!value) {
                input.classList.remove('valid');
            } else if (value.startsWith('http') && value.includes('w3id.org/np/')) {
                input.classList.add('valid');
            } else {
                input.classList.remove('valid');
            }
        }

        function getAllNanopubUrls() {
            const inputs = document.querySelectorAll('.nanopub-input');
            const urls = [];
            
            inputs.forEach(input => {
                const value = input.value.trim();
                if (value && value.startsWith('http')) {
                    urls.push(value);
                }
            });
            
            return urls;
        }

        function loadExample(type) {
            // Clear existing inputs
            document.getElementById('nanopub-inputs').innerHTML = '';
            nanopubCounter = 0;
            
            // Add example
            addNanopubInput(examples[type]);
            
            // Move to next step
            nextStep();
        }

        function showStatus(message, type = 'loading') {
            const container = document.getElementById('status-container');
            const spinner = type === 'loading' ? '<span class="spinner"></span>' : '';
            container.innerHTML = `<div class="status-message status-${type}">${spinner}${message}</div>`;
        }

        function clearStatus() {
            document.getElementById('status-container').innerHTML = '';
        }

        async function generateContent() {
            const urls = getAllNanopubUrls();
            const format = document.querySelector('input[name="format"]:checked').value;
            
            if (urls.length === 0) {
                showStatus('Please add at least one nanopublication URL', 'error');
                return;
            }

            const btn = document.getElementById('generate-btn');
            btn.disabled = true;
            btn.textContent = 'Generating...';
            
            showStatus(`Analyzing ${urls.length} research source${urls.length > 1 ? 's' : ''} and generating content...`);

            try {
                // Simulate processing time
                await new Promise(resolve => setTimeout(resolve, 3000));
                
                // Show results
                showResults(format, urls.length);
                
            } catch (error) {
                showStatus('Sorry, there was an error. Please try again.', 'error');
            } finally {
                btn.disabled = false;
                btn.textContent = 'Generate Content';
            }
        }

        function showResults(format, sourceCount) {
            clearStatus();
            
            // Show generated content
            const content = sampleContent[format];
            document.getElementById('generated-content').textContent = content;
            
            // Show results section
            document.getElementById('results-section').style.display = 'block';
            
            // Scroll to results
            document.getElementById('results-section').scrollIntoView({ 
                behavior: 'smooth' 
            });
        }

        function copyContent() {
            const content = document.getElementById('generated-content').textContent;
            navigator.clipboard.writeText(content).then(() => {
                showStatus('Content copied to clipboard!', 'success');
                setTimeout(clearStatus, 2000);
            });
        }

        function generateNew() {
            // Reset everything
            currentStep = 1;
            document.getElementById('results-section').style.display = 'none';
            document.getElementById('nanopub-inputs').innerHTML = '';
            nanopubCounter = 0;
            addNanopubInput();
            showStep(1);
            clearStatus();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            addNanopubInput();
            showStep(1);
        });
    </script>
</body>
</html>
